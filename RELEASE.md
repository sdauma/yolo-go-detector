# YOLO11/YOLOv8x Go ç›®æ ‡æ£€æµ‹å™¨ - å‘å¸ƒè¯´æ˜

## ğŸ“¦ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 1.0.0
- **å‘å¸ƒæ—¥æœŸ**: 2026-02-03
- **ä¸»è¦åŠŸèƒ½**: YOLO11/YOLOv8x ç›®æ ‡æ£€æµ‹ï¼Œæ”¯æŒä¸­æ–‡æ ‡ç­¾ï¼Œå¤šå¹³å°è¿è¡Œï¼Œæ€§èƒ½æµ‹è¯•å¯¹æ¯”

## ğŸš€ å®‰è£…æŒ‡å—

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/sdauma/yolo-go-detector.git
cd yolo-go-detector
```

### 2. å®‰è£… Go ä¾èµ–

```bash
go mod tidy
```

### 3. å®‰è£… Python ä¾èµ–ï¼ˆç”¨äºæ€§èƒ½æµ‹è¯•ï¼‰

```bash
pip install -r test/requirements_inference.txt
```

### 4. ä¸‹è½½æ¨¡å‹æ–‡ä»¶

å°† YOLO11/YOLOv8x æ¨¡å‹æ–‡ä»¶å¯¼å‡ºä¸º ONNX æ ¼å¼å¹¶æ”¾ç½®åˆ° `third_party/` ç›®å½•ä¸‹ã€‚

**æ¨èå¯¼å‡ºå‘½ä»¤**ï¼š

```bash
yolo export model=yolo11x.pt format=onnx imgsz=640 opset=17
```

### 5. ç¼–è¯‘è¿è¡Œ

```bash
# è¿è¡Œä¸»ç¨‹åº
go run .

# è¿è¡Œæ€§èƒ½æµ‹è¯•
go run test/benchmark_go_std_intra1.go
```

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### æ£€æµ‹å•ä¸ªå›¾åƒ

```bash
go run . -img ./assets/bus.jpg -output ./output/result.jpg -conf 0.5
```

### æ‰¹é‡å¤„ç†å›¾åƒ

```bash
go run . -img ./test_images/ -conf 0.3 -workers 4
```

### è¿è¡Œæ€§èƒ½æµ‹è¯•

```bash
# Go åŸºå‡†æµ‹è¯•
go run test/benchmark_go_std_intra1.go

# Python åŸºå‡†æµ‹è¯•
python test/inference_align.py
```

## ğŸ“‹ ç›®å½•ç»“æ„

```
yolo-go-detector/
â”œâ”€â”€ main.go           # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ detector_pool.go  # å¹¶å‘æ£€æµ‹å™¨æ± 
â”œâ”€â”€ README.md         # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ RELEASE.md        # å‘å¸ƒè¯´æ˜
â”œâ”€â”€ LICENSE           # è®¸å¯è¯
â”œâ”€â”€ assets/           # ç¤ºä¾‹å›¾åƒ
â”œâ”€â”€ third_party/      # æ¨¡å‹æ–‡ä»¶å’Œè¿è¡Œåº“
â”œâ”€â”€ test/             # æ€§èƒ½æµ‹è¯•ç¨‹åº
â”œâ”€â”€ results/          # æµ‹è¯•ç»“æœ
â””â”€â”€ go.mod/go.sum     # Go ä¾èµ–
```

## ğŸ§ª æ€§èƒ½æµ‹è¯•

### æµ‹è¯•é¡¹ç›®

1. **å»¶è¿Ÿæµ‹è¯•**: æµ‹é‡æ¨ç†æ—¶é—´ï¼ˆAvgã€p50ã€p90ã€p99ï¼‰
2. **å†…å­˜æµ‹è¯•**: ç›‘æ§è¿è¡Œæ—¶å†…å­˜ä½¿ç”¨æƒ…å†µ
3. **ç¨³å®šæ€§æµ‹è¯•**: é•¿æ—¶é—´è¿è¡Œçš„ç¨³å®šæ€§éªŒè¯

### æµ‹è¯•ç¯å¢ƒ

- **ç¡¬ä»¶**: Intel CPU, 16GB RAM
- **è½¯ä»¶**: Windows 10, Go 1.25, Python 3.9
- **ONNX Runtime**: v1.23.2
- **æ¨¡å‹**: YOLO11x

### è¿è¡Œç›‘æ§

```bash
# ç›‘æ§ Go å†…å­˜
./test/monitor_go_memory.ps1

# ç›‘æ§ Python å†…å­˜
./test/monitor_python_memory.ps1
```

## ğŸ”§ é…ç½®é€‰é¡¹

### ä¸»ç¨‹åºå‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | æè¿° |
|------|--------|------|
| `-img` | `./assets/bus.jpg` | è¾“å…¥å›¾åƒè·¯å¾„ |
| `-output` | `./assets/bus_11x_false.jpg` | è¾“å‡ºå›¾åƒè·¯å¾„ |
| `-conf` | `0.25` | ç½®ä¿¡åº¦é˜ˆå€¼ |
| `-iou` | `0.7` | IOUé˜ˆå€¼ |
| `-size` | `640` | æ¨¡å‹è¾“å…¥å°ºå¯¸ |
| `-rect` | `false` | æ˜¯å¦ä½¿ç”¨çŸ©å½¢ç¼©æ”¾ |
| `-workers` | `CPUæ ¸æ•°/2` | å¹¶å‘å·¥ä½œåç¨‹æ•°é‡ |

### æµ‹è¯•ç¨‹åºå‚æ•°

æµ‹è¯•ç¨‹åºçš„å‚æ•°åœ¨å„è‡ªæ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š

- **çº¿ç¨‹æ•°**: `intra_op_num_threads` (1, 2, 4)
- **è¿­ä»£æ¬¡æ•°**: `N` (é»˜è®¤ 100)
- **æ‰¹å¤„ç†å¤§å°**: `batch_size` (é»˜è®¤ 1)

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### æ¨ç†å»¶è¿Ÿï¼ˆYOLO11xï¼‰

| å®ç°è¯­è¨€ | Avg (ms) | P50 (ms) | P90 (ms) | P99 (ms) |
|---------|----------|----------|----------|----------|
| Python  | 3382.21  | 3711.85  | 4184.99  | 4590.05  |
| Go      | 1087.35  | 1088.36  | 1207.51  | 1260.42  |

### å†…å­˜ä½¿ç”¨ï¼ˆYOLO11xï¼‰

| å®ç°è¯­è¨€ | Peak RSS (MB) | Stable RSS (MB) |
|---------|---------------|----------------|
| Python  | 4280.00       | 3860.00        |
| Go      | 3650.00       | 3250.00        |

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ¨¡å‹åŠ è½½å¤±è´¥**
   - ç¡®ä¿æ¨¡å‹æ–‡ä»¶è·¯å¾„æ­£ç¡®
   - ç¡®ä¿æ¨¡å‹æ ¼å¼ä¸º ONNX (opset â‰¥ 11)

2. **å†…å­˜ä¸è¶³**
   - å‡å°‘æ‰¹å¤„ç†å¤§å°
   - ä½¿ç”¨æ›´å°çš„æ¨¡å‹ç‰ˆæœ¬ï¼ˆå¦‚ yolo11n.onnxï¼‰

3. **æ€§èƒ½æµ‹è¯•å¼‚å¸¸**
   - ç¡®ä¿ ONNX Runtime ç‰ˆæœ¬ä¸€è‡´ (v1.23.2)
   - å…³é—­å…¶ä»–å ç”¨ç³»ç»Ÿèµ„æºçš„ç¨‹åº

### æ—¥å¿—å’Œè°ƒè¯•

- **æµ‹è¯•ç»“æœ**: å­˜å‚¨åœ¨ `results/` ç›®å½•
- **å†…å­˜ç›‘æ§**: å®æ—¶è¾“å‡ºåˆ°æ§åˆ¶å°
- **é”™è¯¯ä¿¡æ¯**: ç›´æ¥è¾“å‡ºåˆ°æ§åˆ¶å°

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›é¡¹ç›®ï¼

### è´¡çŒ®æŒ‡å—

1. Fork ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ†æ”¯
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ LICENSE æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [ultralytics/yolov11](https://docs.ultralytics.com/models/yolo11/) - YOLO11 æ¨¡å‹
- [Microsoft/onnxruntime](https://github.com/microsoft/onnxruntime) - ONNX Runtime
- [yalue/onnxruntime_go](https://github.com/yalue/onnxruntime_go) - Go è¯­è¨€ç»‘å®š
- æ‰€æœ‰å¼€æºç¤¾åŒºè´¡çŒ®è€…

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [sdauma/yolo-go-detector](https://github.com/sdauma/yolo-go-detector)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/sdauma/yolo-go-detector/issues)

---

**å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ä¾›ç ”ç©¶å’Œå­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šæˆ–ç”Ÿäº§ç¯å¢ƒã€‚